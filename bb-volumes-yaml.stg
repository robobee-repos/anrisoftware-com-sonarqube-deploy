/*
 * Mandatory:
 *
 * vars.volumes.data.storage
 * vars.volumes.data.class
 *
 */

/*
 * 
 */
bb-volumes-yaml(parent, vars) ::= <<
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: "sonarqube-data"
  namespace: anrisoftware-com-sonarqube
  labels:
    group: sonarqube
  annotations:
    volume.beta.kubernetes.io/storage-class: <vars.volumes.data.class>
spec:
  accessModes:
  - ReadWriteMany
  resources:
    requests:
      storage: <vars.volumes.data.storage>

>>
